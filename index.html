<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZDOROVO - –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –ó—Ä–µ–Ω–∏—è –∏ –ù—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥</title>
    
    <style>
        * { box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { margin: 0; padding: 0; display: flex; height: 100vh; background-color: #f0f2f5; color: #333; overflow: hidden; }

        /* --- 1. –ë–û–ö–û–í–û–ï –ú–ï–ù–Æ (–î–ï–§–û–õ–¢: –°–ò–ù–ï-–ß–ï–†–ù–û–ï) --- */
        nav#sidebar {
            width: 260px;
            background: linear-gradient(180deg, #2c3e50 0%, #4CA1AF 100%);
            color: white; padding: 20px 0; box-shadow: 2px 0 10px rgba(0,0,0,0.2);
            flex-shrink: 0;
            display: flex; 
            flex-direction: column;
            transition: background 0.5s;
        }
        nav#sidebar h2 { text-align: center; margin-top: 0; }
        
        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é */
        #menu-links { flex-grow: 1; }

        nav#sidebar button.nav-btn {
            background: transparent; border: none; color: rgba(255,255,255,0.7);
            padding: 18px 25px; text-align: left; font-size: 16px; cursor: pointer;
            width: 100%; transition: all 0.3s;
        }
        nav#sidebar button.nav-btn.active {
            background-color: rgba(255,255,255,0.2);
            border-left: 6px solid #00E676; 
            color: white; font-weight: 600;
        }

        /* --- –¢–ï–ú–´ –û–§–û–†–ú–õ–ï–ù–ò–Ø --- */
        
        /* –¢–ï–ú–ê 1: –ó–ï–õ–ï–ù–û-–ë–ï–õ–ê–Ø */
        .theme-green {
            background: linear-gradient(180deg, #33cc33 0%, #99ff99 100%) !important;
            color: #2c3e50 !important;
        }
        .theme-green button.nav-btn {
            color: rgba(44, 62, 80, 0.7) !important;
        }
        .theme-green button.nav-btn.active {
            background-color: rgba(44, 62, 80, 0.1) !important;
            border-left: 6px solid #2c3e50 !important; 
            color: #2c3e50 !important; 
        }

        /* –¢–ï–ú–ê 2: –¢–ï–ú–ù–´–ô –£–ì–û–õ–¨ */
        .theme-darkcoal {
            background: linear-gradient(180deg, #1f1f1f 0%, #3a3a3a 100%) !important;
            color: #e0e0e0 !important;
        }
        .theme-darkcoal button.nav-btn {
            color: rgba(224, 224, 224, 0.7) !important;
        }
        .theme-darkcoal button.nav-btn.active {
            background-color: rgba(224, 224, 224, 0.1) !important;
            border-left: 6px solid #FFD700 !important;
            color: #FFD700 !important; 
        }

        /* –¢–ï–ú–ê 3: –ù–û–ß–ù–û–ô –°–ò–ù–ò–ô */
        .theme-nightblue {
            background: linear-gradient(180deg, #10192a 0%, #293e5a 100%) !important;
            color: #b0c4de !important;
        }
        .theme-nightblue button.nav-btn {
            color: rgba(176, 196, 222, 0.7) !important;
        }
        .theme-nightblue button.nav-btn.active {
            background-color: rgba(176, 196, 222, 0.1) !important;
            border-left: 6px solid #87CEEB !important;
            color: #87CEEB !important; 
        }

        /* --- –ë–õ–û–ö –°–ú–ï–ù–´ –¶–í–ï–¢–ê --- */
        #theme-switcher {
            padding: 15px 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
        }
        .theme-dot {
            width: 20px; height: 20px; border-radius: 50%;
            display: inline-block; margin: 0 5px; cursor: pointer;
            border: 2px solid rgba(255, 255, 255, 0.5);
            transition: border 0.2s;
        }
        .theme-dot:hover { border-color: white; }
        .theme-dot.active { border: 3px solid #00E676; }

        #dot-blue { background: linear-gradient(180deg, #2c3e50, #4CA1AF); }
        #dot-green { background: linear-gradient(180deg, #33cc33, #99ff99); }
        #dot-coal { background: linear-gradient(180deg, #1f1f1f, #3a3a3a); }
        #dot-night { background: linear-gradient(180deg, #10192a, #293e5a); }

        /* --- 2. –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ (–æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏) --- */
        .main-content { flex-grow: 1; padding: 40px; overflow-y: auto; }
        .section {
            display: none; background: white; padding: 30px; border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05); max-width: 900px; margin: 0 auto;
        }
        .section.active { display: block; }
        
        /* --- –ß–ê–¢-–ë–û–¢ --- */
        #chat-container { display: flex; flex-direction: column; height: 500px; }
        #chat-messages { flex-grow: 1; border: 1px solid #ddd; border-radius: 10px; padding: 20px; overflow-y: auto; margin-bottom: 15px; }
        .message { 
            margin-bottom: 10px; padding: 10px 15px; border-radius: 15px; 
            max-width: 75%; line-height: 1.4; clear: both; 
            text-decoration: none !important;
        }
        .bot-msg { background-color: #e0e0e0; float: left; }
        .user-msg { background: #4CA1AF; color: white; float: right; }
        .input-area { display: flex; gap: 10px; }
        #chat-input { flex-grow: 1; padding: 15px; border: 1px solid #ddd; border-radius: 30px; }
        #send-btn { padding: 0 30px; background-color: #2c3e50; color: white; border: none; border-radius: 30px; cursor: pointer; }
        #send-btn:disabled { background-color: #ccc; cursor: not-allowed; }
        .loading { font-style: italic; color: #555; }

        /* --- –°–¢–ò–õ–ò –î–õ–Ø –ò–ù–°–¢–†–£–ú–ï–ù–¢–û–í (–ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø) --- */
        #tools-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .tool-card { padding: 20px; background: #f9f9f9; border-radius: 10px; text-align: center; border: 1px solid #ddd; }
        .tool-card h3 { color: #2c3e50; }
        
        #bmr-results, #water-results { margin-top: 15px; padding: 10px; background: #e6f7ff; border-radius: 5px; }

        .form-group { margin-bottom: 15px; text-align: left; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-group input, .form-group select { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        /* --- –ö–û–ù–ï–¶ –°–¢–ò–õ–ï–ô –î–õ–Ø –ò–ù–°–¢–†–£–ú–ï–ù–¢–û–í --- */


        /* --- –ò–ì–†–´ (—Å—Ç–∏–ª–∏) --- */
        .games-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; margin-bottom: 30px; }
        .game-card { background: #f9f9f9; padding: 15px; text-align: center; border-radius: 10px; cursor: pointer; border: 2px solid #eee; transition: 0.3s;}
        .game-card:hover { border-color: #4CA1AF; background-color: #e6f7ff; }
        #active-game-area { min-height: 350px; border: 2px dashed #ccc; border-radius: 15px; padding: 20px; text-align: center; position: relative;}
        .game-screen { display: none; width: 100%; text-align: center; }
        .game-screen.active { display: block; }
        button.game-btn { padding: 10px 20px; background: #4CA1AF; color: white; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
        button.game-btn:disabled { background: #ccc; cursor: not-allowed; }

        #schulte-grid { display: grid; grid-template-columns: repeat(5, 1fr); width: 300px; height: 300px; margin: 20px auto; border: 1px solid #2c3e50;}
        .schulte-cell { display: flex; align-items: center; justify-content: center; border: 1px solid #ddd; font-size: 1.5em; font-weight: bold; cursor: pointer; transition: background-color 0.1s;}
        .schulte-cell.found { background-color: #00E676; color: white; }
        #focus-text { height: 200px; display: flex; align-items: center; justify-content: center; font-size: 24px; font-weight: bold; transition: font-size 0.5s ease-in-out; margin-top: 20px;}
        #path-area { width: 100%; height: 300px; position: relative; background: #eee; border-radius: 10px; overflow: hidden; margin: 20px 0;}
        #moving-dot { width: 30px; height: 30px; background: #ff5e62; border-radius: 50%; position: absolute; left: 0; top: 0; pointer-events: none;}
        #anti-saccade-area { width: 100%; height: 300px; background: #f0f0f0; border-radius: 10px; display: flex; justify-content: space-between; align-items: center; padding: 0 50px; position: relative;}
        .saccade-dot { width: 30px; height: 30px; border-radius: 50%; background: #2c3e50; transition: background-color 0.2s;}
        #center-fixation { width: 20px; height: 20px; background: #4CA1AF; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);}
        #line-focus-area { width: 100%; height: 300px; background: white; border-radius: 10px; display: flex; justify-content: center; align-items: center; flex-direction: column; position: relative;}
        #line-focus-target { width: 250px; height: 20px; background: #00E676; margin-top: 10px; transition: width 0.5s ease-in-out, background-color 0.5s;}
        #line-focus-text { font-size: 1.2em; font-weight: bold; color: #2c3e50;}

        /* --- –°—Ç–∏–ª–∏ –¥–ª—è –ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∏ --- */
        #infographics-content h3 { color: #2c3e50; border-bottom: 2px solid #4CA1AF; padding-bottom: 5px; margin-top: 25px; }
        .fact-box { border-left: 5px solid #00E676; padding: 10px 15px; margin-bottom: 15px; background: #e9f9e9; border-radius: 5px; }
        .myth-box { border-left: 5px solid #ff5e62; padding: 10px 15px; margin-bottom: 15px; background: #ffe9e9; border-radius: 5px; }
        .infographics-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px; }
        .fact-box strong, .myth-box strong { font-weight: bold; color: #2c3e50; }

        #chart-container { 
            margin-top: 30px; padding: 20px; background: #f9f9f9; 
            border-radius: 10px; border: 1px solid #ddd;
        }
        .coverage-bar {
            display: flex; height: 30px; margin-bottom: 15px; 
            border-radius: 5px; overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .covered {
            background-color: #00E676; color: white;
            display: flex; align-items: center; justify-content: flex-end;
            padding-right: 10px; font-weight: bold; font-size: 0.9em;
            transition: width 1s ease-out;
        }
        .missing {
            background-color: #ddd; color: #888;
            display: flex; align-items: center;
            padding-left: 10px; font-size: 0.9em;
        }
        .bar-label-title {
            font-weight: bold; color: #2c3e50; margin-bottom: 5px;
            text-align: left;
        }
        .bar-wrapper {
            width: 100%; margin: 10px 0;
        }
    </style>
</head>
<body>

    <nav id="sidebar">
        <h2>ZDOROVO</h2>
        
        <div id="menu-links">
            <button class="nav-btn active" data-id="chat">üí¨ –ß–∞—Ç-–±–æ—Ç</button>
            <button class="nav-btn" data-id="games">üéÆ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –≥–ª–∞–∑</button>
            <button class="nav-btn" data-id="tools">‚öôÔ∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</button>
            <button class="nav-btn" data-id="infographics">üõ°Ô∏è –ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞</button>
            <button class="nav-btn" data-id="creators">üë§ –°–æ–∑–¥–∞—Ç–µ–ª–∏</button>
        </div>

        <div id="theme-switcher">
            <p style="margin: 0 0 8px; font-size: 0.9em; font-weight: bold;">–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è:</p>
            <div id="dot-blue" class="theme-dot active" data-theme="default"></div>
            <div id="dot-green" class="theme-dot" data-theme="green"></div>
            <div id="dot-coal" class="theme-dot" data-theme="dark-coal"></div>
            <div id="dot-night" class="theme-dot" data-theme="night-blue"></div>
        </div>
    </nav>

    <div class="main-content">
        
        <div id="chat" class="section active">
            <h2>–ò–ò –ù—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥ (OpenRouter API)</h2>
            <div id="chat-container">
                <div id="chat-messages">
                    <div class="message bot-msg">–ü—Ä–∏–≤–µ—Ç! –Ø –Ω—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥. –Ø –≥–æ—Ç–æ–≤ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –æ –ø–∏—Ç–∞–Ω–∏–∏. –°–ø—Ä–∞—à–∏–≤–∞–π!</div>
                </div>
                <div class="input-area">
                    <input type="text" id="chat-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Ä–µ—Ü–µ–ø—Ç –∑–∞–≤—Ç—Ä–∞–∫–∞...">
                    <button id="send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
                <p style="font-size: 0.8em; color: red;">‚ö†Ô∏è –ß–∞—Ç-–±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞—à API-–∫–ª—é—á OpenRouter.</p>
            </div>
        </div>
        
        <div id="tools" class="section">
            <h2>‚öôÔ∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è</h2>
            <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–∑–æ–≤—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ –ø–æ –ø–∏—Ç–∞–Ω–∏—é –∏ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏.</p>

            <div id="tools-grid">
                
                <div class="tool-card">
                    <h3>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä BMR (–ë–∞–∑–∞–ª—å–Ω—ã–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º)</h3>
                    <p style="font-size: 0.9em; color: #555;">–†–∞—Å—á–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—Ö–æ–¥–∞ –∫–∞–ª–æ—Ä–∏–π –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ–∫–æ—è.</p>
                    <div class="form-group">
                        <label for="bmr-gender">–ü–æ–ª:</label>
                        <select id="bmr-gender">
                            <option value="male">–ú—É–∂—á–∏–Ω–∞</option>
                            <option value="female">–ñ–µ–Ω—â–∏–Ω–∞</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="bmr-weight">–í–µ—Å (–∫–≥):</label>
                        <input type="number" id="bmr-weight" min="1" value="70">
                    </div>
                    <div class="form-group">
                        <label for="bmr-height">–†–æ—Å—Ç (—Å–º):</label>
                        <input type="number" id="bmr-height" min="1" value="175">
                    </div>
                    <div class="form-group">
                        <label for="bmr-age">–í–æ–∑—Ä–∞—Å—Ç:</label>
                        <input type="number" id="bmr-age" min="1" value="30">
                    </div>
                    <button class="game-btn" id="btn-calculate-bmr">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å BMR</button>
                    <div id="bmr-results">
                        <p><strong>BMR:</strong> <span id="bmr-value">0</span> –∫–∫–∞–ª/–¥–µ–Ω—å</p>
                    </div>
                </div>

                <div class="tool-card">
                    <h3>–ù–æ—Ä–º–∞ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –≤–æ–¥—ã</h3>
                    <p style="font-size: 0.9em; color: #555;">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –Ω–æ—Ä–º–∞: 30-40 –º–ª –≤–æ–¥—ã –Ω–∞ 1 –∫–≥ –≤–µ—Å–∞.</p>
                    <div class="form-group">
                        <label for="water-weight">–í–∞—à –í–µ—Å (–∫–≥):</label>
                        <input type="number" id="water-weight" min="1" value="70">
                    </div>
                    <button class="game-btn" id="btn-calculate-water" style="margin-top: 50px;">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –Ω–æ—Ä–º—É</button>
                    <div id="water-results" style="margin-top: 40px;">
                        <p><strong>–ú–∏–Ω. –Ω–æ—Ä–º–∞:</strong> <span id="water-min">0</span> –ª/–¥–µ–Ω—å</p>
                        <p><strong>–ú–∞–∫—Å. –Ω–æ—Ä–º–∞:</strong> <span id="water-max">0</span> –ª/–¥–µ–Ω—å</p>
                    </div>
                </div>

            </div>
        </div>


        <div id="games" class="section">
            <h2>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∑—Ä–µ–Ω–∏—è (5 –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–π)</h2>
            
            <div style="margin-bottom: 20px; padding: 15px; background: #e6f7ff; border-left: 5px solid #4CA1AF; border-radius: 5px; text-align: left;">
                <h3 style="margin-top: 0; display: inline-block;">üëÅÔ∏è –°–æ–≤–µ—Ç –ø–æ –ó–¥–æ—Ä–æ–≤—å—é –ì–ª–∞–∑</h3>
                <button class="game-btn" id="btn-get-tip" style="float: right; margin: 0;">–ü–æ–ª—É—á–∏—Ç—å –°–æ–≤–µ—Ç</button>
                <p id="eye-tip-display" style="font-weight: 500; color: #2c3e50;">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —Å–æ–≤–µ—Ç –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è –≤–∞—à–∏—Ö –≥–ª–∞–∑.</p>
            </div>

            <div class="games-grid">
                <div class="game-card" data-game-id="game1">üõë –ê–Ω—Ç–∏—Å–∞–∫–∫–∞–¥–∞</div>
                <div class="game-card" data-game-id="game2">üìè –§–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞ –ª–∏–Ω–∏–∏</div>
                <div class="game-card" data-game-id="game3">üìö –¢–∞–±–ª–∏—Ü–∞ –®—É–ª—å—Ç–µ</div>
                <div class="game-card" data-game-id="game4">üëÄ –§–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞ (–ë–ª–∏–∑—å-–î–∞–ª—å)</div>
                <div class="game-card" data-game-id="game5">üéØ –°–ª–µ–∂–µ–Ω–∏–µ (–°–∏–Ω—É—Å–æ–∏–¥–∞)</div>
            </div>

            <div id="active-game-area">
                <p id="select-placeholder">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É —Å–≤–µ—Ä—Ö—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å</p>

                <div id="game1" class="game-screen">
                    <h3>–ò–≥—Ä–∞ –ê–Ω—Ç–∏—Å–∞–∫–∫–∞–¥–∞</h3>
                    <p><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong> –°–º–æ—Ç—Ä–∏—Ç–µ <strong>–¢–û–õ–¨–ö–û</strong> –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é —Ç–æ—á–∫—É. –ö–æ–≥–¥–∞ –∑–∞–≥–æ—Ä–∞–µ—Ç—Å—è –±–æ–∫–æ–≤–∞—è —Ç–æ—á–∫–∞, –Ω–∞–∂–º–∏—Ç–µ <strong>–ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—É—é</strong> –∫–Ω–æ–ø–∫—É.</p>
                    <div id="anti-saccade-area">
                        <div class="saccade-dot" id="saccade-left"></div>
                        <div id="center-fixation"></div>
                        <div class="saccade-dot" id="saccade-right"></div>
                    </div>
                    <p>–û—á–∫–∏: <span id="saccade-score">0</span>. –û—à–∏–±–∫–∏: <span id="saccade-errors" style="color: red;">0</span>.</p>
                    <button class="game-btn" id="btn-saccade-start">–°—Ç–∞—Ä—Ç</button>
                    <button class="game-btn" id="btn-saccade-left">–õ–µ–≤–æ</button>
                    <button class="game-btn" id="btn-saccade-right">–ü—Ä–∞–≤–æ</button>
                </div>

                <div id="game2" class="game-screen">
                    <h3>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∞–∫–∫–æ–º–æ–¥–∞—Ü–∏–∏ (–§–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞ –ª–∏–Ω–∏–∏)</h3>
                    <p><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong> –§–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –ª–∏–Ω–∏–∏. –û–Ω–∞ –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å —Ç–æ–ª—â–∏–Ω—É, –∏–º–∏—Ç–∏—Ä—É—è —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫—É –Ω–∞ —Ä–∞–∑–Ω–æ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏. –¶–µ–ª—å ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ—Ç–∫–æ—Å—Ç—å.</p>
                    <div id="line-focus-area">
                        <div id="line-focus-text">–ù–∞–∂–º–∏ "–°—Ç–∞—Ä—Ç"</div>
                        <div id="line-focus-target"></div>
                    </div>
                    <button class="game-btn" id="btn-line-focus-start">–°—Ç–∞—Ä—Ç (10 —Å–µ–∫)</button>
                    <p id="line-focus-result">–û—Å—Ç–∞–ª–æ—Å—å: 0 —Å–µ–∫.</p>
                </div>
                
                <div id="game3" class="game-screen">
                    <h3>–¢–∞–±–ª–∏—Ü–∞ –®—É–ª—å—Ç–µ (–ü–µ—Ä–∏—Ñ–µ—Ä–∏—è –∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è)</h3>
                    <p>–ù–∞–π–¥–∏—Ç–µ –∏ –Ω–∞–∂–º–∏—Ç–µ —á–∏—Å–ª–∞ –æ—Ç 1 –¥–æ 25 –ø–æ –ø–æ—Ä—è–¥–∫—É.</p>
                    <div id="schulte-grid"></div>
                    <p>–¢–µ–∫—É—â–µ–µ —á–∏—Å–ª–æ: <span id="schulte-current">1</span></p>
                    <p>–í—Ä–µ–º—è: <span id="schulte-timer">0</span> —Å–µ–∫</p>
                    <button class="game-btn" id="btn-schulte-start">–°—Ç–∞—Ä—Ç</button>
                </div>

                <div id="game4" class="game-screen">
                    <h3>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–µ—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∏ (–±–ª–∏–∑—å-–¥–∞–ª—å)</h3>
                    <p>–ü–æ—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ç–µ–∫—Å—Ç, –∫–æ–≥–¥–∞ –æ–Ω –º–µ–Ω—è–µ—Ç —Ä–∞–∑–º–µ—Ä.</p>
                    <div id="focus-text">–ù–∞–∂–º–∏ "–°—Ç–∞—Ä—Ç"</div>
                    <button class="game-btn" id="btn-focus-start">–°—Ç–∞—Ä—Ç</button>
                    <p id="focus-result">–ù–∞–∂–º–∏—Ç–µ '–°—Ç–∞—Ä—Ç' –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.</p>
                </div>

                <div id="game5" class="game-screen">
                    <h3>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å–ª–µ–∂–µ–Ω–∏—è –ø–æ —Å–∏–Ω—É—Å–æ–∏–¥–µ</h3>
                    <p>–°–ª–µ–¥–∏—Ç–µ –≥–ª–∞–∑–∞–º–∏ –∑–∞ –∫—Ä–∞—Å–Ω–æ–π —Ç–æ—á–∫–æ–π, –Ω–µ –¥–≤–∏–≥–∞—è –≥–æ–ª–æ–≤–æ–π, –≤ —Ç–µ—á–µ–Ω–∏–µ 30 —Å–µ–∫—É–Ω–¥.</p>
                    <div id="path-area">
                        <div id="moving-dot"></div>
                    </div>
                    <button class="game-btn" id="btn-path-start">–°—Ç–∞—Ä—Ç</button>
                </div>

            </div>
        </div>

        <div id="infographics" class="section">
            <h2>üõ°Ô∏è –í–∞–∫—Ü–∏–Ω–∞—Ü–∏—è: –§–∞–∫—Ç—ã –∏ –£—Ä–æ–≤–µ–Ω—å –ó–∞—â–∏—Ç—ã</h2>
            <div id="infographics-content">
                
                <h3>üìä –£—Ä–æ–≤–µ–Ω—å –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞</h3>
                <p>–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è <strong>–∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞</strong> –∏ –∑–∞—â–∏—Ç—ã —É—è–∑–≤–∏–º—ã—Ö —Å–ª–æ–µ–≤ –Ω–∞—Å–µ–ª–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ—Å—Ç–∏—á—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞ –æ—Ö–≤–∞—Ç–∞ –≤–∞–∫—Ü–∏–Ω–∞—Ü–∏–µ–π.</p>
                
                <div id="chart-container">
                    
                    <div class="bar-wrapper">
                        <div class="bar-label-title">–ö–æ—Ä—å (–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–π –æ—Ö–≤–∞—Ç: 95%)</div>
                        <div class="coverage-bar">
                            <div class="covered" style="width: 70%;">70% (–¢–µ–∫—É—â–∏–π –æ—Ö–≤–∞—Ç)</div>
                            <div class="missing" style="width: 30%;">–ù–µ–¥–æ—Å—Ç–∞—é—â–∞—è –¥–æ–ª—è (25%)</div>
                        </div>
                    </div>

                    <div class="bar-wrapper">
                        <div class="bar-label-title">–ü–æ–ª–∏–æ–º–∏–µ–ª–∏—Ç (–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–π –æ—Ö–≤–∞—Ç: 80%)</div>
                        <div class="coverage-bar">
                            <div class="covered" style="width: 90%; background-color: #4CA1AF;">90% (–¢–µ–∫—É—â–∏–π –æ—Ö–≤–∞—Ç)</div>
                            <div class="missing" style="width: 10%;">–ü–æ—Ä–æ–≥ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç</div>
                        </div>
                    </div>

                    <div class="bar-wrapper">
                        <div class="bar-label-title">–ì—Ä–∏–ø–ø (–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–π –æ—Ö–≤–∞—Ç: 50%)</div>
                        <div class="coverage-bar">
                            <div class="covered" style="width: 45%; background-color: #ff5e62;">45% (–¢–µ–∫—É—â–∏–π –æ—Ö–≤–∞—Ç)</div>
                            <div class="missing" style="width: 55%;">–ù–µ–¥–æ—Å—Ç–∞—é—â–∞—è –¥–æ–ª—è (5%)</div>
                        </div>
                    </div>
                    <p style="text-align: center; margin-top: 5px; font-style: italic; color: #555;">–ó–µ–ª–µ–Ω—ã–π/–°–∏–Ω–∏–π/–ö—Ä–∞—Å–Ω—ã–π: –¢–µ–∫—É—â–∏–π –æ—Ö–≤–∞—Ç. –°–µ—Ä—ã–π: –ù–µ–¥–æ—Å—Ç–∞—é—â–∞—è –¥–æ–ª—è –¥–æ –ø–æ—Ä–æ–≥–∞.</p>
                </div>

                
                <h3>‚úÖ –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç—ã</h3>
                <div class="fact-box">
                    <strong>–¶–µ–ª—å ‚Äî –∑–∞—â–∏—Ç–∞.</strong> –í–∞–∫—Ü–∏–Ω—ã "—É—á–∞—Ç" –≤–∞—à—É –∏–º–º—É–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –≤–æ–∑–±—É–¥–∏—Ç–µ–ª—è, –≤—ã–∑—ã–≤–∞—è –∏–º–º—É–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –±–µ–∑ —Ä–∏—Å–∫–∞ —Ç—è–∂–µ–ª–æ–≥–æ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è.
                </div>
                <div class="fact-box">
                    <strong>–î–ª–∏—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.</strong> –ö–∞–∂–¥–∞—è –≤–∞–∫—Ü–∏–Ω–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–µ –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø–æ–ø–∞—Å—Ç—å –∫ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.
                </div>

                <h3>‚ùå –†–∞–∑–≤–µ–Ω—á–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–∏—Ñ–æ–≤</h3>
                <div class="infographics-grid">
                    <div class="myth-box">
                        <strong>–ú–∏—Ñ:</strong> –í–∞–∫—Ü–∏–Ω—ã –≤—ã–∑—ã–≤–∞—é—Ç –∞—É—Ç–∏–∑–º. <br>
                        <strong>–§–∞–∫—Ç:</strong> –ú–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∫—Ä—É–ø–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É –¥–æ–∫–∞–∑–∞–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–∞–∫–æ–π-–ª–∏–±–æ —Å–≤—è–∑–∏. –≠—Ç–æ—Ç –º–∏—Ñ –¥–∞–≤–Ω–æ –æ–ø—Ä–æ–≤–µ—Ä–≥–Ω—É—Ç.
                    </div>
                    <div class="myth-box">
                        <strong>–ú–∏—Ñ:</strong> –£ –¥–µ—Ç–µ–π —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤–∞–∫—Ü–∏–Ω. <br>
                        <strong>–§–∞–∫—Ç:</strong> –ò–º–º—É–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–±–µ–Ω–∫–∞ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∞–Ω—Ç–∏–≥–µ–Ω–æ–≤ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ (—á–µ—Ä–µ–∑ –ø–∏—â—É –∏ –≤–æ–∑–¥—É—Ö), —á–µ–º —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–∞–∫—Ü–∏–Ω–∞—Ö.
                    </div>
                </div>
            </div>
        </div>

        <div id="creators" class="section">
            <h2>–û —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö</h2>
            <p>–ü—Ä–æ–µ–∫—Ç ZDOROVO</p>
        </div>

    </div>

    <script>
        // =========================================================
        // === 1. –§–£–ù–ö–¶–ò–Ø API OPENROUTER (–£–ø—Ä–æ—â–µ–Ω–∞ –∏ –æ—á–∏—â–µ–Ω–∞) ======
        // =========================================================
        
        const OPENROUTER_API_KEY = "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"; 
        const OPENROUTER_URL = 'https://openrouter.ai/api/v1/chat/completions';

        async function fetchOpenRouterResponse(query) {
            try {
                const response = await fetch(OPENROUTER_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${OPENROUTER_API_KEY}` 
                    },
                    body: JSON.stringify({
                        model: "mistralai/mistral-7b-instruct:free",
                        messages: [
                            {role: "system", content: "–¢—ã ‚Äî –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –Ω—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥. –û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ, –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ HTML-—Ç–µ–≥ <strong> –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞."},
                            {role: "user", content: query}
                        ]
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({ error: { message: "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞: –°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON." } }));
                    console.error("OpenRouter API Error:", errorData);
                    return `–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –°–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É (${response.status}). ${errorData.error.message || response.statusText}`;
                }

                const data = await response.json();
                
                if (data.choices && data.choices.length > 0) {
                    let content = data.choices[0].message.content;
                    
                    if (!content || content.trim() === '') {
                        return "ü§ñ –ò–∑–≤–∏–Ω–∏—Ç–µ, —á–∞—Ç-–±–æ—Ç –ø—Ä–∏—Å–ª–∞–ª –ø—É—Å—Ç–æ–π —Ç–µ–∫—Å—Ç. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ—Ñ—Ä–∞–∑–∏—Ä—É–π—Ç–µ.";
                    }

                    // –ß–∏—Å—Ç–∏–º –æ—Ç Markdown, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å HTML
                    content = content.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>'); 
                    content = content.replace(/\*(.*?)\*/g, '<strong>$1</strong>');
                    content = content.replace(/[~\-`]/g, '');

                    return content;
                } else {
                    return "–ü–æ–ª—É—á–µ–Ω –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –æ—Ç API (–Ω–µ—Ç choices).";
                }

            } catch (error) {
                console.error("Fetch Error:", error);
                return "–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∫ OpenRouter API. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ F12 –∫–æ–Ω—Å–æ–ª—å. –û—à–∏–±–∫–∞: " + error.message;
            }
        }

        // =========================================================
        // === 2. –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê –ö–õ–ò–ï–ù–¢–ê (–ù–∞–≤–∏–≥–∞—Ü–∏—è, –ß–∞—Ç, –¢–µ–º—ã) ===
        // =========================================================
        
        document.addEventListener('DOMContentLoaded', () => {

            // --- –≠–õ–ï–ú–ï–ù–¢–´ –ß–ê–¢–ê ---
            const chatInput = document.getElementById('chat-input');
            const sendBtn = document.getElementById('send-btn');
            const messagesDiv = document.getElementById('chat-messages');
            
            // --- –≠–õ–ï–ú–ï–ù–¢–´ –ú–ï–ù–Æ –ò –¢–ï–ú–´ ---
            const navBtns = document.querySelectorAll('.nav-btn');
            const sections = document.querySelectorAll('.section');
            const sidebar = document.getElementById('sidebar');
            const themeDots = document.querySelectorAll('.theme-dot');
            const initialTheme = localStorage.getItem('appTheme') || 'default';
            const themes = ['default', 'green', 'dark-coal', 'night-blue'];


            // --- –§–£–ù–ö–¶–ò–Ø –°–ú–ï–ù–´ –¢–ï–ú–´ ---
            function applyTheme(theme) {
                themes.forEach(t => {
                    const cssClass = `theme-${t.replace(/-/g, '')}`;
                    sidebar.classList.remove(cssClass);
                });

                if (theme !== 'default') {
                    const cssClass = `theme-${theme.replace(/-/g, '')}`;
                    sidebar.classList.add(cssClass);
                }

                themeDots.forEach(dot => dot.classList.remove('active'));
                const activeDot = document.querySelector(`.theme-dot[data-theme="${theme}"]`);
                if (activeDot) activeDot.classList.add('active');

                localStorage.setItem('appTheme', theme);
            }

            applyTheme(initialTheme);
            
            themeDots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const theme = dot.getAttribute('data-theme');
                    applyTheme(theme);
                });
            });
            // --- –ö–û–ù–ï–¶ –§–£–ù–ö–¶–ò–ò –°–ú–ï–ù–´ –¢–ï–ú–´ ---


            function addMessage(text, type, isLoading = false) {
                const div = document.createElement('div');
                div.className = `message ${type}-msg ${isLoading ? 'loading' : ''}`; 
                div.innerHTML = text;
                messagesDiv.appendChild(div);
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
                return div;
            }

            // --- –õ–û–ì–ò–ö–ê –ß–ê–¢-–ë–û–¢–ê ---
            sendBtn.addEventListener('click', async () => {
                const text = chatInput.value.trim();
                if (!text) return;

                addMessage(text, 'user');
                chatInput.value = '';

                sendBtn.disabled = true;
                chatInput.disabled = true;

                const botResponseDiv = addMessage("üìû –ó–∞–ø—Ä–æ—Å –∫ OpenRouter... –∂–¥–µ–º –æ—Ç–≤–µ—Ç...", 'bot', true);
                
                const reply = await fetchOpenRouterResponse(text); 
                
                botResponseDiv.classList.remove('loading');
                botResponseDiv.innerHTML = reply;
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
                
                sendBtn.disabled = false;
                chatInput.disabled = false;
            });

            chatInput.addEventListener('keypress', (e) => {
                if(e.key === 'Enter' && !sendBtn.disabled) sendBtn.click();
            });
            
            // --- –õ–û–ì–ò–ö–ê –ù–ê–í–ò–ì–ê–¶–ò–ò (–í–∫–ª–∞–¥–∫–∏) ---
            navBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetId = btn.getAttribute('data-id');

                    navBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');

                    sections.forEach(s => s.classList.remove('active'));
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) targetSection.classList.add('active');
                });
            });

            // =========================================================
            // === 3. –ú–ï–•–ê–ù–ò–ö–ê –ù–û–í–´–• –ò–ù–°–¢–†–£–ú–ï–ù–¢–û–í ======================
            // =========================================================

            // --- –ò–ù–°–¢–†–£–ú–ï–ù–¢ 1: –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† BMR (–•–∞—Ä—Ä–∏—Å–∞-–ë–µ–Ω–µ–¥–∏–∫—Ç–∞) ---
            const btnCalculateBMR = document.getElementById('btn-calculate-bmr');
            
            if (btnCalculateBMR) btnCalculateBMR.addEventListener('click', () => {
                const gender = document.getElementById('bmr-gender').value;
                const weight = parseFloat(document.getElementById('bmr-weight').value);
                const height = parseFloat(document.getElementById('bmr-height').value);
                const age = parseFloat(document.getElementById('bmr-age').value);
                const bmrValueEl = document.getElementById('bmr-value');

                if (isNaN(weight) || isNaN(height) || isNaN(age) || weight <= 0 || height <= 0 || age <= 0) {
                    bmrValueEl.textContent = "–û—à–∏–±–∫–∞: –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—á–∏—Å–ª–∞ > 0).";
                    return;
                }

                let bmr;
                // BMR –¥–ª—è –º—É–∂—á–∏–Ω: 88.36 + (13.4 x –≤–µ—Å –≤ –∫–≥) + (4.8 x —Ä–æ—Å—Ç –≤ —Å–º) - (5.7 x –≤–æ–∑—Ä–∞—Å—Ç –≤ –≥–æ–¥–∞—Ö)
                // BMR –¥–ª—è –∂–µ–Ω—â–∏–Ω: 447.6 + (9.2 x –≤–µ—Å –≤ –∫–≥) + (3.1 x —Ä–æ—Å—Ç –≤ —Å–º) - (4.3 x –≤–æ–∑—Ä–∞—Å—Ç –≤ –≥–æ–¥–∞—Ö)
                
                if (gender === 'male') {
                    bmr = 88.36 + (13.4 * weight) + (4.8 * height) - (5.7 * age);
                } else {
                    bmr = 447.6 + (9.2 * weight) + (3.1 * height) - (4.3 * age);
                }

                bmrValueEl.textContent = Math.round(bmr).toLocaleString('ru-RU');
            });

            // --- –ò–ù–°–¢–†–£–ú–ï–ù–¢ 2: –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –í–û–î–´ ---
            const btnCalculateWater = document.getElementById('btn-calculate-water');
            
            if (btnCalculateWater) btnCalculateWater.addEventListener('click', () => {
                const weight = parseFloat(document.getElementById('water-weight').value);
                const waterMinEl = document.getElementById('water-min');
                const waterMaxEl = document.getElementById('water-max');

                if (isNaN(weight) || weight <= 0) {
                    waterMinEl.textContent = "–û—à–∏–±–∫–∞";
                    waterMaxEl.textContent = "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–µ—Å";
                    return;
                }

                // –†–∞—Å—á–µ—Ç: 30-40 –º–ª/–∫–≥
                const minWater = (weight * 30 / 1000).toFixed(2);
                const maxWater = (weight * 40 / 1000).toFixed(2);

                waterMinEl.textContent = `${minWater} –ª`;
                waterMaxEl.textContent = `${maxWater} –ª`;
            });


            // =========================================================
            // === 4. –ú–ï–•–ê–ù–ò–ö–ê –ò–ì–† –ò –°–û–í–ï–¢–´ –î–õ–Ø –ì–õ–ê–ó (–í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–û) ====
            // =========================================================

            // --- –°–û–í–ï–¢ –î–õ–Ø –ì–õ–ê–ó ---
            const btnGetTip = document.getElementById('btn-get-tip');
            const eyeTipDisplay = document.getElementById('eye-tip-display');

            const eyeTips = [
                "–ü—Ä–∞–≤–∏–ª–æ 20-20-20: –∫–∞–∂–¥—ã–µ 20 –º–∏–Ω—É—Ç —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –æ–±—ä–µ–∫—Ç, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –≤ 20 —Ñ—É—Ç–∞—Ö (6 –º–µ—Ç—Ä–æ–≤) –æ—Ç –≤–∞—Å, –≤ —Ç–µ—á–µ–Ω–∏–µ 20 —Å–µ–∫—É–Ω–¥. –≠—Ç–æ —Å–Ω–∏–º–∞–µ—Ç –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ.",
                "–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ. –Ø—Ä–∫–∏–π —Å–≤–µ—Ç –æ—Ç —ç–∫—Ä–∞–Ω–∞ –∏–ª–∏, –Ω–∞–æ–±–æ—Ä–æ—Ç, —Å–ª–∏—à–∫–æ–º —Ç—É—Å–∫–ª–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç –≥–ª–∞–∑–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–µ—Ä–µ–≥—Ä—É–∑–∫–æ–π.",
                "–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –º–æ—Ä–≥–∞—Ç—å! –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –∑–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º —á–∞—Å—Ç–æ—Ç–∞ –º–æ—Ä–≥–∞–Ω–∏—è —Å–Ω–∏–∂–∞–µ—Ç—Å—è, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å—É—Ö–æ—Å—Ç–∏ –≥–ª–∞–∑.",
                "–£–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã, –±–æ–≥–∞—Ç—ã–µ –ª—é—Ç–µ–∏–Ω–æ–º –∏ –∑–µ–∞–∫—Å–∞–Ω—Ç–∏–Ω–æ–º (—à–ø–∏–Ω–∞—Ç, –∫–∞–ø—É—Å—Ç–∞, —è–π—Ü–∞). –û–Ω–∏ –∑–∞—â–∏—â–∞—é—Ç —Å–µ—Ç—á–∞—Ç–∫—É.",
                "–î–µ–ª–∞–π—Ç–µ –ª–µ–≥–∫–∏–π –º–∞—Å—Å–∞–∂ –≤–µ–∫ –∏ –æ–±–ª–∞—Å—Ç–∏ –≤–æ–∫—Ä—É–≥ –≥–ª–∞–∑. –≠—Ç–æ —É–ª—É—á—à–∞–µ—Ç –∫—Ä–æ–≤–æ–æ–±—Ä–∞—â–µ–Ω–∏–µ –∏ —Ä–∞—Å—Å–ª–∞–±–ª—è–µ—Ç –º—ã—à—Ü—ã.",
                "–û—Ç—Ä–µ–≥—É–ª–∏—Ä—É–π—Ç–µ —ç–∫—Ä–∞–Ω: –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ –≤—ã—Ç—è–Ω—É—Ç–æ–π —Ä—É–∫–∏ –∏ —á—É—Ç—å –Ω–∏–∂–µ —É—Ä–æ–≤–Ω—è –≥–ª–∞–∑.",
                "–ù–æ—Å–∏—Ç–µ —Å–æ–ª–Ω—Ü–µ–∑–∞—â–∏—Ç–Ω—ã–µ –æ—á–∫–∏ —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç —É–ª—å—Ç—Ä–∞—Ñ–∏–æ–ª–µ—Ç–∞ (UV400), –¥–∞–∂–µ –≤ –ø–∞—Å–º—É—Ä–Ω—É—é –ø–æ–≥–æ–¥—É."
            ];

            let lastTipIndex = -1;

            function getNewEyeTip() {
                let newIndex;
                do {
                    newIndex = Math.floor(Math.random() * eyeTips.length);
                } while (newIndex === lastTipIndex);
                
                eyeTipDisplay.textContent = eyeTips[newIndex];
                lastTipIndex = newIndex;
            }
            getNewEyeTip(); 
            if (btnGetTip) btnGetTip.addEventListener('click', getNewEyeTip);
            

            // --- –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –ò–ì–† ---
            const gameCards = document.querySelectorAll('.game-card');
            const gameScreens = document.querySelectorAll('.game-screen');
            const selectPlaceholder = document.getElementById('select-placeholder');

            gameCards.forEach(card => {
                card.addEventListener('click', () => {
                    const targetId = card.getAttribute('data-game-id');
                    
                    if (selectPlaceholder) selectPlaceholder.style.display = 'none';

                    gameScreens.forEach(screen => screen.classList.remove('active'));
                    const targetScreen = document.getElementById(targetId);
                    if (targetScreen) targetScreen.classList.add('active');
                });
            });


            // –ò–ì–†–ê 1: –ê–ù–¢–ò–°–ê–ö–ö–ê–î–ê 
            const saccadeScoreEl = document.getElementById('saccade-score');
            const saccadeErrorsEl = document.getElementById('saccade-errors');
            const btnSaccadeStart = document.getElementById('btn-saccade-start');
            const saccadeLeft = document.getElementById('saccade-left');
            const saccadeRight = document.getElementById('saccade-right');
            const btnSaccadeLeft = document.getElementById('btn-saccade-left');
            const btnSaccadeRight = document.getElementById('btn-saccade-right');
            let saccadeInterval = null;
            let currentTarget = null;
            let saccadeScore = 0;
            let saccadeErrors = 0;

            function resetSaccadeDots() {
                saccadeLeft.style.backgroundColor = '#2c3e50';
                saccadeRight.style.backgroundColor = '#2c3e50';
                currentTarget = null;
            }

            function startSaccadeGame() {
                saccadeScore = 0;
                saccadeErrors = 0;
                saccadeScoreEl.textContent = saccadeScore;
                saccadeErrorsEl.textContent = saccadeErrors;
                btnSaccadeStart.disabled = true;
                btnSaccadeLeft.disabled = false;
                btnSaccadeRight.disabled = false;
                resetSaccadeDots();

                if (saccadeInterval) clearInterval(saccadeInterval);

                saccadeInterval = setInterval(() => {
                    resetSaccadeDots();
                    const isLeft = Math.random() < 0.5;
                    currentTarget = isLeft ? 'left' : 'right';
                    
                    if (isLeft) {
                        saccadeLeft.style.backgroundColor = 'red';
                    } else {
                        saccadeRight.style.backgroundColor = 'red';
                    }
                }, 1500); 

                setTimeout(() => {
                    clearInterval(saccadeInterval);
                    btnSaccadeStart.disabled = false;
                    btnSaccadeLeft.disabled = true;
                    btnSaccadeRight.disabled = true;
                    resetSaccadeDots();
                    alert(`–ê–Ω—Ç–∏—Å–∞–∫–∫–∞–¥–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –û—á–∫–∏: ${saccadeScore}, –û—à–∏–±–∫–∏: ${saccadeErrors}`);
                }, 30000); 
            }

            function handleSaccadeClick(clickedButton) {
                if (!currentTarget) return;

                const correct = (currentTarget === 'left' && clickedButton === 'right') || 
                                (currentTarget === 'right' && clickedButton === 'left');

                if (correct) {
                    saccadeScore++;
                    saccadeScoreEl.textContent = saccadeScore;
                } else {
                    saccadeErrors++;
                    saccadeErrorsEl.textContent = saccadeErrors;
                }
                
                resetSaccadeDots(); 
            }

            if (btnSaccadeStart) btnSaccadeStart.addEventListener('click', startSaccadeGame);
            if (btnSaccadeLeft) btnSaccadeLeft.addEventListener('click', () => handleSaccadeClick('left'));
            if (btnSaccadeRight) btnSaccadeRight.addEventListener('click', () => handleSaccadeClick('right'));


            // –ò–ì–†–ê 2: –§–û–ö–£–°–ò–†–û–í–ö–ê –ù–ê –õ–ò–ù–ò–ò
            const btnLineFocusStart = document.getElementById('btn-line-focus-start');
            const lineFocusTarget = document.getElementById('line-focus-target');
            const lineFocusResult = document.getElementById('line-focus-result');
            const lineFocusText = document.getElementById('line-focus-text');
            let lineFocusInterval = null;

            function startLineFocusGame() {
                if (lineFocusInterval) clearInterval(lineFocusInterval);
                btnLineFocusStart.disabled = true;
                let timeLeft = 10;
                lineFocusResult.textContent = `–û—Å—Ç–∞–ª–æ—Å—å: ${timeLeft} —Å–µ–∫.`;
                lineFocusText.textContent = "–§–æ–∫—É—Å–∏—Ä—É–π—Å—è...";
                
                let phase = 0;
                
                lineFocusInterval = setInterval(() => {
                    if (timeLeft <= 0) {
                        clearInterval(lineFocusInterval);
                        btnLineFocusStart.disabled = false;
                        lineFocusResult.textContent = '–ì–æ—Ç–æ–≤–æ! –û—Ç–ª–∏—á–Ω–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ.';
                        lineFocusTarget.style.width = '250px';
                        lineFocusTarget.style.backgroundColor = '#00E676';
                        lineFocusText.textContent = "–ù–∞–∂–º–∏ '–°—Ç–∞—Ä—Ç' –¥–ª—è –Ω–æ–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏";
                        return;
                    }
                    
                    if (phase === 0) {
                        lineFocusTarget.style.width = '100px'; 
                        lineFocusTarget.style.backgroundColor = '#ff5e62';
                        phase = 1;
                    } else {
                        lineFocusTarget.style.width = '350px'; 
                        lineFocusTarget.style.backgroundColor = '#4CA1AF';
                        phase = 0;
                    }

                    timeLeft--;
                    lineFocusResult.textContent = `–û—Å—Ç–∞–ª–æ—Å—å: ${timeLeft} —Å–µ–∫.`;

                }, 1000); 
            }
            if (btnLineFocusStart) btnLineFocusStart.addEventListener('click', startLineFocusGame);

            // –ò–ì–†–ê 3: –¢–ê–ë–õ–ò–¶–ê –®–£–õ–¨–¢–ï
            const schulteGrid = document.getElementById('schulte-grid');
            const btnSchulteStart = document.getElementById('btn-schulte-start');
            const schulteCurrent = document.getElementById('schulte-current');
            const schulteTimerEl = document.getElementById('schulte-timer');
            let schulteCurrentNumber = 1;
            let schulteInterval = null;
            let schulteTime = 0;

            function shuffle(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }

            function generateSchulteGrid() {
                schulteGrid.innerHTML = '';
                const numbers = Array.from({ length: 25 }, (_, i) => i + 1);
                shuffle(numbers);

                numbers.forEach(number => {
                    const cell = document.createElement('div');
                    cell.className = 'schulte-cell';
                    cell.textContent = number;
                    cell.dataset.number = number;
                    cell.addEventListener('click', handleSchulteClick);
                    schulteGrid.appendChild(cell);
                });
            }

            function handleSchulteClick(e) {
                const clickedNumber = parseInt(e.target.dataset.number);

                if (clickedNumber === schulteCurrentNumber) {
                    e.target.classList.add('found');
                    e.target.removeEventListener('click', handleSchulteClick);
                    schulteCurrentNumber++;
                    schulteCurrent.textContent = schulteCurrentNumber;

                    if (schulteCurrentNumber > 25) {
                        clearInterval(schulteInterval);
                        btnSchulteStart.disabled = false;
                        alert(`–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø—Ä–æ—à–ª–∏ —Ç–µ—Å—Ç –∑–∞ ${schulteTime} —Å–µ–∫—É–Ω–¥!`);
                        schulteCurrent.textContent = '–ì–æ—Ç–æ–≤–æ!';
                    }
                }
            }

            if (btnSchulteStart) btnSchulteStart.addEventListener('click', () => {
                if (schulteInterval) clearInterval(schulteInterval);
                schulteCurrentNumber = 1;
                schulteTime = 0;
                schulteCurrent.textContent = schulteCurrentNumber;
                schulteTimerEl.textContent = schulteTime;
                btnSchulteStart.disabled = true;

                generateSchulteGrid();

                schulteInterval = setInterval(() => {
                    schulteTime++;
                    schulteTimerEl.textContent = schulteTime;
                }, 1000);
            });

            // –ò–ì–†–ê 4: –§–û–ö–£–°–ò–†–û–í–ö–ê (–±–ª–∏–∑—å-–¥–∞–ª—å)
            const focusText = document.getElementById('focus-text');
            const btnFocusStart = document.getElementById('btn-focus-start');
            let focusInterval = null;
            const focusResult = document.getElementById('focus-result');

            if (btnFocusStart) btnFocusStart.addEventListener('click', () => {
                if (focusInterval) clearInterval(focusInterval);
                btnFocusStart.disabled = true;
                focusText.textContent = "–ù–∞—á–∞–ª–∏!";
                focusResult.textContent = "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∏–¥–µ—Ç 10 —Å–µ–∫—É–Ω–¥...";

                let time = 0;
                focusInterval = setInterval(() => {
                    time++;
                    const size = time % 2 === 0 ? '50px' : '20px';
                    focusText.style.fontSize = size;
                    focusText.textContent = size === '50px' ? '–î–ê–õ–ï–ö–û (50px)' : '–ë–õ–ò–ó–ö–û (20px)';

                    if (time >= 20) {
                        clearInterval(focusInterval);
                        focusText.style.fontSize = '24px';
                        focusText.textContent = "–ó–∞–≤–µ—Ä—à–µ–Ω–æ. –û—Ç–ª–∏—á–Ω–æ –¥–ª—è –≥–ª–∞–∑!";
                        btnFocusStart.disabled = false;
                        focusResult.textContent = "–ù–∞–∂–º–∏—Ç–µ '–°—Ç–∞—Ä—Ç' –¥–ª—è –Ω–æ–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏.";
                    }
                }, 500);
            });
            
            // –ò–ì–†–ê 5: –°–õ–ï–ñ–ï–ù–ò–ï –ü–û –°–ò–ù–£–°–û–ò–î–ï
            const pathArea = document.getElementById('path-area');
            const movingDot = document.getElementById('moving-dot');
            const btnPathStart = document.getElementById('btn-path-start');
            let pathAnimation = null;

            function animatePath() {
                const width = pathArea.clientWidth - 30;
                const height = pathArea.clientHeight - 30;
                const amplitude = height / 3; 
                let t = 0;

                movingDot.style.transition = 'none';

                pathAnimation = setInterval(() => {
                    t += 0.02; 
                    
                    const dotX = (t / (2 * Math.PI)) * width;
                    const dotY = height / 2 + amplitude * Math.sin(t);
                    
                    movingDot.style.left = `${dotX % width}px`; 
                    movingDot.style.top = `${dotY}px`;
                    
                    if ((t / (2 * Math.PI)) * width > width) {
                       t = 0;
                    }
                }, 10);
            }

            if (btnPathStart) btnPathStart.addEventListener('click', () => {
                if (pathAnimation) clearInterval(pathAnimation);
                
                movingDot.style.left = '0px';
                movingDot.style.top = `${pathArea.clientHeight / 2 - 15}px`;
                btnPathStart.textContent = "–°–ª–µ–¥–∏—Ç–µ...";
                btnPathStart.disabled = true;

                animatePath();

                setTimeout(() => {
                    clearInterval(pathAnimation);
                    btnPathStart.textContent = "–°—Ç–∞—Ä—Ç";
                    btnPathStart.disabled = false;
                    alert("–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å–ª–µ–∂–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞.");
                }, 30000); 
            });
        });
    </script>
</body>
</html>